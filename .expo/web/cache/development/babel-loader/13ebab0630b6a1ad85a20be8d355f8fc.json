{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\steph\\\\desktop\\\\JavaScript_TLG_MinProject\\\\Mole.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Images from \"./assets/Images\";\nimport SpriteSheet from \"rn-sprite-sheet\";\nimport Constants from \"./Constants\";\n\nvar Mole = function (_Component) {\n  _inherits(Mole, _Component);\n\n  var _super = _createSuper(Mole);\n\n  function Mole(props) {\n    var _this;\n\n    _classCallCheck(this, Mole);\n\n    _this = _super.call(this, props);\n\n    _this.pop = function () {\n      _this.isWhacked = false;\n      _this.isAttacking = false;\n      _this.isPopping = true;\n      _this.isFeisty = Math.random() < 0.4;\n\n      if (!_this.isFeisty) {\n        _this.isHealing = Math.random() < 0.05;\n      }\n\n      if (_this.isHealing) {\n        _this.mole.play({\n          type: \"heal\",\n          fps: 24,\n          onFinish: function onFinish() {\n            _this.actionTimeout = setTimeout(function () {\n              _this.mole.play({\n                type: \"hide\",\n                fps: 24,\n                onFinish: function onFinish() {\n                  _this.isPopping = false;\n\n                  _this.props.onFinishPopping(_this.props.index);\n                }\n              });\n            }, 1000);\n          }\n        });\n      } else {\n        _this.mole.play({\n          type: \"appear\",\n          fps: 24,\n          onFinish: function onFinish() {\n            if (_this.isFeisty) {\n              _this.actionTimeout = setTimeout(function () {\n                _this.isAttacking = true;\n\n                _this.props.onDamage();\n\n                _this.mole.play({\n                  type: \"attack\",\n                  fps: 12,\n                  onFinish: function onFinish() {\n                    _this.mole.play({\n                      type: \"hide\",\n                      fps: 24,\n                      onFinish: function onFinish() {\n                        _this.isPopping = false;\n\n                        _this.props.onFinishPopping(_this.props.index);\n                      }\n                    });\n                  }\n                });\n              }, 1000);\n            } else {\n              _this.actionTimeout = setTimeout(function () {\n                _this.mole.play({\n                  type: \"hide\",\n                  fps: 24,\n                  onFinish: function onFinish() {\n                    _this.isPopping = false;\n\n                    _this.props.onFinishPopping(_this.props.index);\n                  }\n                });\n              }, 1000);\n            }\n          }\n        });\n      }\n    };\n\n    _this.whack = function () {\n      if (!_this.isPopping || _this.isWhacked || _this.isAttacking) {\n        return;\n      }\n\n      if (_this.actionTimeout) {\n        clearTimeout(_this.actionTimeout);\n      }\n\n      _this.isWhacked = true;\n      _this.isFeisty = false;\n\n      _this.props.onScore();\n\n      if (_this.isHealing) {\n        _this.props.onHeal();\n      }\n\n      _this.mole.play({\n        type: \"dizzy\",\n        fps: 24,\n        onFinish: function onFinish() {\n          _this.mole.play({\n            type: \"faint\",\n            fps: 24,\n            onFinish: function onFinish() {\n              _this.isPopping = false;\n\n              _this.props.onFinishPopping(_this.props.index);\n            }\n          });\n        }\n      });\n    };\n\n    _this.mole = null;\n    _this.actionTimeout = null;\n    _this.isPopping = false;\n    _this.isFeisty = false;\n    _this.isHealing = false;\n    _this.isWhacked = false;\n    _this.isAttacking = false;\n    return _this;\n  }\n\n  _createClass(Mole, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 7\n        }\n      }, React.createElement(SpriteSheet, {\n        ref: function ref(_ref) {\n          return _this2.mole = _ref;\n        },\n        source: Images.sprites,\n        columns: 6,\n        rows: 8,\n        width: 100,\n        animations: {\n          idle: [0],\n          appear: [1, 2, 3, 4],\n          hide: [4, 3, 2, 1, 0],\n          dizzy: [36, 37, 38],\n          faint: [42, 43, 44, 0],\n          attack: [11, 12, 13, 14, 15, 16],\n          heal: [24, 25, 26, 27, 28, 29, 30, 31, 32, 33]\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 9\n        }\n      }), React.createElement(TouchableWithoutFeedback, {\n        onPress: this.whack,\n        style: {\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: {\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return Mole;\n}(Component);\n\nexport { Mole as default };","map":{"version":3,"sources":["C:/Users/steph/desktop/JavaScript_TLG_MinProject/Mole.js"],"names":["React","Component","Images","SpriteSheet","Constants","Mole","props","pop","isWhacked","isAttacking","isPopping","isFeisty","Math","random","isHealing","mole","play","type","fps","onFinish","actionTimeout","setTimeout","onFinishPopping","index","onDamage","whack","clearTimeout","onScore","onHeal","flex","ref","sprites","idle","appear","hide","dizzy","faint","attack","heal","position","top","left","right","bottom"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  View,\r\n  StyleSheet,\r\n  Button,\r\n  Image,\r\n  TouchableWithoutFeedback,\r\n} from \"react-native\";\r\nimport Images from \"./assets/Images\";\r\nimport SpriteSheet from \"rn-sprite-sheet\";\r\nimport Constants from \"./Constants\";\r\n\r\nexport default class Mole extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.mole = null;\r\n    this.actionTimeout = null;\r\n    this.isPopping = false;\r\n    this.isFeisty = false;\r\n    this.isHealing = false;\r\n    this.isWhacked = false;\r\n    this.isAttacking = false;\r\n  }\r\n\r\n  pop = () => {\r\n    this.isWhacked = false;\r\n    this.isAttacking = false;\r\n    this.isPopping = true;\r\n\r\n    this.isFeisty = Math.random() < 0.4;\r\n    if (!this.isFeisty) {\r\n      this.isHealing = Math.random() < 0.05;\r\n    }\r\n\r\n    if (this.isHealing) {\r\n      this.mole.play({\r\n        type: \"heal\",\r\n        fps: 24,\r\n        onFinish: () => {\r\n          this.actionTimeout = setTimeout(() => {\r\n            this.mole.play({\r\n              type: \"hide\",\r\n              fps: 24,\r\n              onFinish: () => {\r\n                this.isPopping = false;\r\n                this.props.onFinishPopping(this.props.index);\r\n              },\r\n            });\r\n          }, 1000);\r\n        },\r\n      });\r\n    } else {\r\n      this.mole.play({\r\n        type: \"appear\",\r\n        fps: 24,\r\n        onFinish: () => {\r\n          if (this.isFeisty) {\r\n            this.actionTimeout = setTimeout(() => {\r\n              this.isAttacking = true;\r\n              this.props.onDamage();\r\n              this.mole.play({\r\n                type: \"attack\",\r\n                fps: 12,\r\n                onFinish: () => {\r\n                  this.mole.play({\r\n                    type: \"hide\",\r\n                    fps: 24,\r\n                    onFinish: () => {\r\n                      this.isPopping = false;\r\n                      this.props.onFinishPopping(this.props.index);\r\n                    },\r\n                  });\r\n                },\r\n              });\r\n            }, 1000);\r\n          } else {\r\n            this.actionTimeout = setTimeout(() => {\r\n              this.mole.play({\r\n                type: \"hide\",\r\n                fps: 24,\r\n                onFinish: () => {\r\n                  this.isPopping = false;\r\n                  this.props.onFinishPopping(this.props.index);\r\n                },\r\n              });\r\n            }, 1000);\r\n          }\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  whack = () => {\r\n    if (!this.isPopping || this.isWhacked || this.isAttacking) {\r\n      return;\r\n    }\r\n\r\n    if (this.actionTimeout) {\r\n      clearTimeout(this.actionTimeout);\r\n    }\r\n\r\n    this.isWhacked = true;\r\n    this.isFeisty = false;\r\n\r\n    this.props.onScore();\r\n    if (this.isHealing) {\r\n      this.props.onHeal();\r\n    }\r\n\r\n    this.mole.play({\r\n      type: \"dizzy\",\r\n      fps: 24,\r\n      onFinish: () => {\r\n        this.mole.play({\r\n          type: \"faint\",\r\n          fps: 24,\r\n          onFinish: () => {\r\n            this.isPopping = false;\r\n            this.props.onFinishPopping(this.props.index);\r\n          },\r\n        });\r\n      },\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <View style={{ flex: 1 }}>\r\n        <SpriteSheet\r\n          ref={(ref) => (this.mole = ref)}\r\n          source={Images.sprites}\r\n          columns={6}\r\n          rows={8}\r\n          // height={200} // set either, none, but not both\r\n          // width={200}\r\n          //width={100}\r\n          width={100}\r\n          animations={{\r\n            idle: [0],\r\n            appear: [1, 2, 3, 4],\r\n            hide: [4, 3, 2, 1, 0],\r\n            dizzy: [36, 37, 38],\r\n            faint: [42, 43, 44, 0],\r\n            attack: [11, 12, 13, 14, 15, 16],\r\n            heal: [24, 25, 26, 27, 28, 29, 30, 31, 32, 33],\r\n          }}\r\n        />\r\n        <TouchableWithoutFeedback\r\n          onPress={this.whack}\r\n          style={{ position: \"absolute\", top: 0, left: 0, right: 0, bottom: 0 }}\r\n        >\r\n          <View\r\n            style={{\r\n              position: \"absolute\",\r\n              top: 0,\r\n              left: 0,\r\n              right: 0,\r\n              bottom: 0,\r\n            }}\r\n          />\r\n        </TouchableWithoutFeedback>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}